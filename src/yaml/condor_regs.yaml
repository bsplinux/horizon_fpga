define: &registers_version 0x00010004

#first define the registers one by one
reg_version: &reg_version
  fpga_access : false
  cpu_access : false
  fields:
    REV_MINOR: "15:0"
    REV_MAJOR: "31:16"
  
reg_compile_time: &reg_compile_time
  fpga_access : false
  cpu_access : false
  fields:
    HOUR: "7:0"
    YEAR: "15:8"
    MONTH: "23:16"
    DAY: "31:24"
  
reg_general_control: &reg_general_control
  fpga_access: false
  cpu_access: true
  fields:
    SW_RESET     : 0
    IO_DEBUG_EN  : 1
    EN_1MS_INTR  : 2
    RLEASE_REGS  : 3
    STOP_LOG_ACK : 4
    ALIVE_ERROR  : 5
    ECTCU_INH    : 6
    CCTCU_INH    : 7
    UVP_EN_PH1   : 8
    UVP_EN_PH2   : 9
    UVP_EN_PH3   : 10
    UVP_EN_DC    : 11
  used_bits: "11:0"

reg_general_status: &reg_general_status 
  fpga_access: true
  cpu_access: false
  fields:
    REGS_LOCKED: 0
    STOP_LOG   : 1
  used_bits: "1:0"

reg_d_int: &reg_d_int
  fpga_access: true
  cpu_access: false
  used_bits: "31:0"

reg_empty: &reg_empty
    cpu_access: false

reg_d: &reg_d
  fpga_access: false
  cpu_access: true
  used_bits: "31:0"
  
reg_bdir: &reg_bdir
  fpga_access: true
  cpu_access: true
  used_bits: "31:0"
  
reg_io_in: &reg_io_in
  fpga_access: true
  cpu_access: false
  fields:
    POWERON_FPGA    :   0 
    FAN_PG1_FPGA    :   1 
    FAN_HALL1_FPGA  :   2 
    FAN_PG3_FPGA    :   3 
    FAN_HALL3_FPGA  :   4 
    FAN_PG2_FPGA    :   5 
    FAN_HALL2_FPGA  :   6 
    PG_BUCK_FB      :   7 
    PG_PSU_1_FB     :   8 
    PG_PSU_2_FB     :   9 
    PG_PSU_5_FB     :  10 
    PG_PSU_6_FB     :  11 
    PG_PSU_7_FB     :  12 
    PG_PSU_8_FB     :  13 
    PG_PSU_9_FB     :  14 
    PG_PSU_10_FB    :  15 
    lamp_status_fpga:  16 
    PH_A_ON_fpga    :  17 
    PH_B_ON_fpga    :  18 
    PH_C_ON_fpga    :  19
    #range           : "19:0"
  used_bits: "19:0"
  
reg_io_out0: &reg_io_out0
  fpga_access: true
  cpu_access: true
  fields:
    FAN_EN1_FPGA       :  0
    FAN_CTRL1_FPGA     :  1
    P_IN_STATUS_FPGA   :  2
    POD_STATUS_FPGA    :  3
    ECTCU_INH_FPGA     :  4
    P_OUT_STATUS_FPGA  :  5
    CCTCU_INH_FPGA     :  6
    SHUTDOWN_OUT_FPGA  :  7
    RESET_OUT_FPGA     :  8
    SPARE_OUT_FPGA     :  9
    ESHUTDOWN_OUT_FPGA : 10
    RELAY_1PH_FPGA     : 11
    RELAY_3PH_FPGA     : 12
    FAN_EN3_FPGA       : 13
    FAN_CTRL3_FPGA     : 14
    FAN_EN2_FPGA       : 15
    FAN_CTRL2_FPGA     : 16
    EN_PFC_FB          : 17
    EN_PSU_1_FB        : 18
    EN_PSU_2_FB        : 19
    EN_PSU_5_FB        : 20
    EN_PSU_6_FB        : 21
    EN_PSU_7_FB        : 22
    EN_PSU_8_FB        : 23
    EN_PSU_9_FB        : 24
    EN_PSU_10_FB       : 25 
    #range              : "25:0"
  used_bits: "25:0"
  
reg_io_out1: &reg_io_out1
  fpga_access: true
  cpu_access: true
  fields:
    RS485_DE_7 : 0
    RS485_DE_8 : 1
    RS485_DE_9 : 2
    RS485_DE_1 : 3
    RS485_DE_2 : 4
    RS485_DE_3 : 5
    RS485_DE_4 : 6
    RS485_DE_5 : 7
    RS485_DE_6 : 8
    #range      : "8:0"
  used_bits: "8:0"

reg_sn_eti: &reg_sn_eti
  fpga_access: false
  cpu_access: true
  fields:
    SN        : "7:0"
    SET_SN    : 8              
    RESET_ETI : 9              
  used_bits: "9:0"

reg_pwm_ctl: &reg_pwm_ctl
  fpga_access: false
  cpu_access: true
  fields:
    PWM1_ACTIVE     : 0
    PWM1_START_HIGH : 1
    PWM2_ACTIVE     : 2
    PWM2_START_HIGH : 3
    PWM3_ACTIVE     : 4
    PWM3_START_HIGH : 5  
  used_bits: "5:0"

reg_uarts_ctl: &reg_uarts_ctl
  fpga_access: false
  cpu_access: true
  fields:
    EN_RANGE    : "8:0" 
    RST         :  9               
    MS1_ERR_CLR : 10              
  used_bits: "10:0"
  init: 0x1FF

reg_uarts_status: &reg_uarts_status
  fpga_access: true
  cpu_access: false
  fields:
    BUSY    : 0 
    MS1_ERR : 1      
  used_bits: "1:0"

reg_uart_d_l: &reg_uart_d_l
  fpga_access: true
  cpu_access: false
  fields:
    TEMP: "7:0"
    VIN_H: "15:12"
    VIN_L: "23:16"
    VOUT_L:  "31:24"
  used_bits: "31:0"

reg_uart_d_h: &reg_uart_d_h
  fpga_access: true
  cpu_access: false
  fields:
    VOUT_H: "3:0"
    IIN_H: "7:4"
    IIN_L: "15:8"
    IOUT:  "27:16"
    VINP: 28
    OTP : 29
    OCP : 30
    OVP : 31
  used_bits: "31:0"

reg_uart_main_l: &reg_uart_main_l
  fpga_access: true
  cpu_access: false
  fields:
    TEMP: "7:0"
    IPHA_H: "15:12"
    IPHA_L: "23:16"
    IPHB_L:  "31:24"
  used_bits: "31:0"

reg_uart_main_h: &reg_uart_main_h
  fpga_access: true
  cpu_access: false
  fields:
    IPHB_H: "3:0"
    IPHC_H: "7:4"
    IPHC_L: "15:8"
    CAP_EOL: 16
    VINP   : 20
    OTP    : 21
    OCP    : 22
    OVP    : 23
  used_bits: "23:0"

reg_spis_ctl: &reg_spis_ctl
  fpga_access: false
  cpu_access: true
  fields:
    EN_RANGE      : "2:0" 
    RST           : 3               
    US100_ERR_CLR : 4
    Z_CROSS_ERR_CLR : 5
  used_bits: "5:0"
  init: 0x5

reg_spis_status: &reg_spis_status
  fpga_access: true
  cpu_access: false
  fields:
    BUSY      : 0 
    US100_ERR : 1
    SPI0_OK   : 2
    SPI1_OK   : 3
    SPI2_OK   : 4
    Z_CROSS_ERR: 5
    #SPIS_OK   : "4:2"
  used_bits: "5:0"

reg_spi_raw: &reg_spi_raw
  fpga_access: true
  cpu_access: false
  fields:
    L_D_RANGE   : "11:0" 
    L_ID_RANGE  : "15:12"
    #L_RANGE     : "15:0" 
    H_D_RANGE   : "27:16"
    H_ID_RANGE  : "31:28"
    #H_RANGE     : "31:16"
  used_bits: "31:0"  
    
reg_vsns_ph: &reg_vsns_ph
  fpga_access: true
  cpu_access: false
  fields:
    PH_V   : "11:0" 
  used_bits: "11:0"  

# list of registers and blocks of registers with their address
regs:
  - REGS_VERSION: *reg_version
    i: auto
    init: *registers_version
  - FPGA_VERSION: *reg_version
    i: auto
  - COMPILE_TIME: *reg_compile_time
    i: auto
  - BITSTREAM_TIME: *reg_d_int
    i: auto
  - GENERAL_CONTROL: *reg_general_control
    i: auto
    init: 0xF00
  - GENERAL_STATUS: *reg_general_status
    i: auto
  - TIMESTAMP_L: *reg_d_int
    i: auto
  - TIMESTAMP_H: *reg_d_int
    i: auto
  - IO_IN: *reg_io_in
    i: auto
  - IO_OUT0: *reg_io_out0
    i: auto
  - IO_OUT1: *reg_io_out1
    i: auto
  - SN_ETI            : *reg_sn_eti 
  - LOG_VDC_IN        : *reg_d_int
  - LOG_VAC_IN_PH_A   : *reg_d_int
  - LOG_VAC_IN_PH_B   : *reg_d_int
  - LOG_VAC_IN_PH_C   : *reg_d_int
  - LOG_I_DC_IN       : *reg_d_int
  - LOG_I_AC_IN_PH_A  : *reg_d_int
  - LOG_I_AC_IN_PH_B  : *reg_d_int
  - LOG_I_AC_IN_PH_C  : *reg_d_int
  - LOG_V_OUT_1       : *reg_d_int
  - LOG_V_OUT_2       : *reg_d_int
  - LOG_V_OUT_3_PH1   : *reg_d_int
  - LOG_V_OUT_3_PH2   : *reg_d_int
  - LOG_V_OUT_3_PH3   : *reg_d_int
  - LOG_V_OUT_4       : *reg_d_int
  - LOG_V_OUT_5       : *reg_d_int
  - LOG_V_OUT_6       : *reg_d_int
  - LOG_V_OUT_7       : *reg_d_int
  - LOG_V_OUT_8       : *reg_d_int
  - LOG_V_OUT_9       : *reg_d_int
  - LOG_V_OUT_10      : *reg_d_int
  - LOG_I_OUT_1       : *reg_d_int
  - LOG_I_OUT_2       : *reg_d_int
  - LOG_I_OUT_3_PH1   : *reg_d_int
  - LOG_I_OUT_3_PH2   : *reg_d_int
  - LOG_I_OUT_3_PH3   : *reg_d_int
  - LOG_I_OUT_4       : *reg_d_int
  - LOG_I_OUT_5       : *reg_d_int
  - LOG_I_OUT_6       : *reg_d_int
  - LOG_I_OUT_7       : *reg_d_int
  - LOG_I_OUT_8       : *reg_d_int
  - LOG_I_OUT_9       : *reg_d_int
  - LOG_I_OUT_10      : *reg_d_int
  - LOG_AC_POWER      : *reg_d_int
  - LOG_FAN1_SPEED    : *reg_d_int
  - LOG_FAN2_SPEED    : *reg_d_int
  - LOG_FAN3_SPEED    : *reg_d_int
  - LOG_T1            : *reg_d_int
  - LOG_T2            : *reg_d_int
  - LOG_T3            : *reg_d_int
  - LOG_T4            : *reg_d_int
  - LOG_T5            : *reg_d_int
  - LOG_T6            : *reg_d_int
  - LOG_T7            : *reg_d_int
  - LOG_T8            : *reg_d_int
  - LOG_T9            : *reg_d_int
  - LOG_ETM           : *reg_bdir
  - LOG_SN            : *reg_bdir
  - LOG_PSU_STATUS_L  : *reg_d_int
  - LOG_PSU_STATUS_H  : *reg_d_int
  - LOG_LAMP_IND      : *reg_d_int
  - PWM_CTL           : *reg_pwm_ctl
  - PWM1_LOW          : *reg_d
  - PWM1_HIGH         : *reg_d
  - PWM2_LOW          : *reg_d
  - PWM2_HIGH         : *reg_d
  - PWM3_LOW          : *reg_d
  - PWM3_HIGH         : *reg_d
  - UARTS_CONTROL     : *reg_uarts_ctl
    init: 0x0
  - UARTS_STATUS      : *reg_uarts_status
  - UART_RAW0_L       : *reg_uart_d_l
  - UART_RAW0_H       : *reg_uart_d_h
  - UART_RAW1_L       : *reg_uart_d_l
  - UART_RAW1_H       : *reg_uart_d_h
  - UART_RAW2_L       : *reg_uart_d_l
  - UART_RAW2_H       : *reg_uart_d_h
  - UART_RAW3_L       : *reg_uart_d_l
  - UART_RAW3_H       : *reg_uart_d_h
  - UART_RAW4_L       : *reg_uart_d_l
  - UART_RAW4_H       : *reg_uart_d_h
  - UART_RAW5_L       : *reg_uart_d_l
  - UART_RAW5_H       : *reg_uart_d_h
  - UART_RAW6_L       : *reg_uart_d_l
  - UART_RAW6_H       : *reg_uart_d_h
  - UART_RAW7_L       : *reg_uart_d_l
  - UART_RAW7_H       : *reg_uart_d_h
  - UART_RAW8_L       : *reg_uart_main_l
  - UART_RAW8_H       : *reg_uart_main_h
  - UART_V_OUT_1      : *reg_d_int
  - UART_V_OUT_2      : *reg_d_int
  - UART_V_OUT_5      : *reg_d_int
  - UART_V_OUT_6      : *reg_d_int
  - UART_V_OUT_7      : *reg_d_int
  - UART_V_OUT_8      : *reg_d_int
  - UART_V_OUT_9      : *reg_d_int
  - UART_V_OUT_10     : *reg_d_int
  - UART_I_OUT_1      : *reg_d_int
  - UART_I_OUT_2      : *reg_d_int
  - UART_I_OUT_5      : *reg_d_int
  - UART_I_OUT_6      : *reg_d_int
  - UART_I_OUT_7      : *reg_d_int
  - UART_I_OUT_8      : *reg_d_int
  - UART_I_OUT_9      : *reg_d_int
  - UART_I_OUT_10     : *reg_d_int
  - UART_T1           : *reg_d_int
  - UART_T2           : *reg_d_int
  - UART_T3           : *reg_d_int
  - UART_T4           : *reg_d_int
  - UART_T5           : *reg_d_int
  - UART_T6           : *reg_d_int
  - UART_T7           : *reg_d_int
  - UART_T8           : *reg_d_int
  - UART_T9           : *reg_d_int
  - UART_MAIN_I_PH1   : *reg_d_int
  - UART_MAIN_I_PH2   : *reg_d_int
  - UART_MAIN_I_PH3   : *reg_d_int
  - SPIS_CONTROL      : *reg_spis_ctl
    init: 0x0
  - SPIS_STATUS       : *reg_spis_status
  - SPI_RAW0_BA       : *reg_spi_raw
  - SPI_RAW0_DC       : *reg_spi_raw
  - SPI_RAW0_0E       : *reg_spi_raw
  - SPI_RAW1_BA       : *reg_empty
  - SPI_RAW1_DC       : *reg_empty
  - SPI_RAW2_BA       : *reg_spi_raw
  - SPI_RAW2_DC       : *reg_spi_raw
  - SPI_RAW2_FE       : *reg_spi_raw
  - SPI_RAW2_HG       : *reg_spi_raw
  - SPI_OUT4_Isns     : *reg_spi_raw
  - SPI_DC_PWR_I_sns  : *reg_spi_raw
  - SPI_PH1_I_sns     : *reg_spi_raw
  - SPI_PH2_I_sns     : *reg_spi_raw
  - SPI_PH3_I_sns     : *reg_spi_raw
  - SPI_28V_IN_sns    : *reg_spi_raw
  - SPI_Vsns_PH_A_RLY : *reg_spi_raw
  - SPI_Vsns_PH_B_RLY : *reg_spi_raw
  - SPI_Vsns_PH_C_RLY : *reg_spi_raw
  - SPI_Vsns_PH3      : *reg_spi_raw
  - SPI_Vsns_PH2      : *reg_spi_raw
  - SPI_Vsns_PH1      : *reg_spi_raw
  - SPI_OUT4_sns      : *reg_spi_raw
  - SPI_RMS_OUT4_Isns     : *reg_spi_raw
  - SPI_RMS_DC_PWR_I_sns  : *reg_spi_raw
  - SPI_RMS_PH1_I_sns     : *reg_spi_raw
  - SPI_RMS_PH2_I_sns     : *reg_spi_raw
  - SPI_RMS_PH3_I_sns     : *reg_spi_raw
  - SPI_RMS_28V_IN_sns    : *reg_spi_raw
  - SPI_RMS_Vsns_PH_A_RLY : *reg_spi_raw
  - SPI_RMS_Vsns_PH_B_RLY : *reg_spi_raw
  - SPI_RMS_Vsns_PH_C_RLY : *reg_spi_raw
  - SPI_RMS_Vsns_PH3      : *reg_spi_raw
  - SPI_RMS_Vsns_PH2      : *reg_spi_raw
  - SPI_RMS_Vsns_PH1      : *reg_spi_raw
  - SPI_RMS_OUT4_sns      : *reg_spi_raw
